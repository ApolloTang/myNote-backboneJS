<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>backboneEvent</title>

  <meta name="viewport" content="width=device-width">
  <link rel="stylesheet" href="http://apollotang.com/cdn/lib/css/bootstrap.css">
  
<style type="text/css" >
* {margin:0px; padding:0px;}
#x-rule {position: absolute; top:0px; left:-50px;}
</style>


</head>

<body>

<!-- <div id="x-rule"><img src="http://apollotang.com/cdn/lib/imgs/ruler_x_1083px.gif"></div> -->
<div id="message"></div>


        <button type="submit" id = "mybtn1" class="btn">1</button>
        <button type="submit" id = "mybtn2" class="btn">2</button>
        <button type="submit" id = "mybtn3" class="btn">3</button>
        <button type="submit" id = "mybtn4" class="btn">4</button>
        
        
<script src="http://code.jquery.com/jquery-1.8.0.js"></script>
<script src="http://apollotang.com/cdn/lib/js/underscore-1.4.2.js"></script>
<script src="http://apollotang.com/cdn/lib/js/backbone-0.9.2.js"></script>
<script src="http://apollotang.com/cdn/lib/js/safe-console.js"></script>
<script src="http://apollotang.com/cdn//lib/js/_o_/_o_0.0.1.js"></script>




<!-- script>window.jQuery || document.write('<script src="http://localhost/sy/lib/js/jquery-1.7.1.min.js"><\/script>')</script-->

<script type="text/javascript">
console.log('jQuery version ' + jQuery().jquery);
// - - - - - - - - - - - - - -


 console.log('- - - - - - - [1]- - - - - - - - -');
 
        var obj_1 = {};
        _.extend(obj_1, Backbone.Events);
        obj_1.on("myEvent_1", function(msg) { console.log (msg); });
        $('#mybtn1').on('click', function(){ obj_1.trigger("myEvent_1", "my message 1"); });
    

 console.log('- - - - - - - -[2] - - - - - - - -');        
 
        var obj_2 = { p1:'p1', p2:'p2' };

        _.extend(obj_2, Backbone.Events);
                // this will extend obj_2 with the following methods:
                //        1. on (alias: bind)
                //        2. off (alias: unbind)
                //        3. trigger
        
        
        obj_2.on("myEvent_2a", callback_for_myEvent_2a );  
            // The above add a custom event to "obj_2", the name of this custom event is "myEvent_2a"
            // This custom event is defined in callback function "callback_for_myEvent_2"
            
        obj_2.on("myEvent_2b", callback_for_myEvent_2b );  
            // you can add multiple event to "obj_2"                                                            
        
        // Here is the callback function for my_Event_2a
        function callback_for_myEvent_2a (msg) {
            // "this" in the callback reference to "obj_2"
            
            // In this callback another property is added to obj_2 
            _.extend(this, {p3: msg});  
            console.log('in obj_2 callback function, this: ', this);
        }
        function callback_for_myEvent_2b (msg) {
            _.extend(this, {p4: msg} );
            console.log('in obj_2 callback function, this: ', this);
        }
        
        // Internally, the callback functions are located in "obj_2._callbacks" under the "next":
        console.log("callbacks are: ", obj_2._callbacks);
        
            
        // to trigger the event on "obj_2" call the trigger method on "obj_2" passing in event-name and argument  
        var myMessage_2 = "my message 2";
        var myMessage_3 = "my message 3";             
        $('#mybtn2').on('click', function(){ obj_2.trigger( "myEvent_2a", myMessage_2 ); });
        $('#mybtn3').on('click', function(){ obj_2.trigger( "myEvent_2b", myMessage_3 ); });
                                    
                                            
/*

 console.log('- - - - - - - -[3] - - - - - - - -');
 
        var MyCollection = Backbone.Collection.extend({});
        var coll_1 = new MyCollection([{a:"a"}, {b:"b"}]);
        
        console.log('coll_1: ', coll_1 );
        setTimeout(delay, '10000');
        
        
        function delay() { 
        
                _.extend( coll_1, Backbone.Events);
                // this will extend coll_1 with the following methods:
                //        1. on (alias: bind)
                //        2. off (alias: unbind)
                //        3. trigger
                
                console.log('coll_1 extended with BB.Events: ', coll_1 );
        
        }
        
*/        
// - - - - - - - - - - - - - -
</script>	
</body>

</html>
