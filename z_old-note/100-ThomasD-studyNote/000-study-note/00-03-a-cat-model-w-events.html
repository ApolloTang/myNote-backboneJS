<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>BackboneTutorials.com Beginner Video</title>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.1.1/css/bootstrap.min.css">
</head>
<body>

<div id="container">
    <button id='event-button-1'>color</button>
    <button id='event-button-2'>sound</button>
</div>
  
  
<!--script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript"></script-->
<!--script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.2/underscore-min.js" type="text/javascript"></script-->
<!--script src="//cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js"></script-->

<!--script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script-->
<script>window.jQuery || document.write('<script src="lib/js/jquery-1.7.1.js"><\/script>')</script>
<script src="lib/js/underscore-1.3.3.js"></script>
<script src="lib/js/backbone-0.9.2.js"></script>
<script src="lib/js/safe-console.js"></script>



<script type="text/javascript">
console.log('jQuery version ' + jQuery().jquery);
console.log("- - - - - - Script begin - - - - - -");


    var cat_1 = { color : "black",  name : "lucy" };
    
    var Cat = Backbone.Model.extend({
        makeSound: function (arg) { console.log ("cat say: " + arg);}
    });

    var CatView  = Backbone.View.extend({
        el: $('#container'),    // <--- backbone only listen to event in "el"
        events: {
            'click button#event-button-1': 'showColor',
            'click button#event-button-2': 'makeSound'
        },
        initialize: function () {
            _.bindAll(this
                , 'render'
                , 'showColor'   
                , 'makeSound'
            );
        },
        render          : function (arg) {
                var text_to_inject = "</br>" + arg; 
                this.$el.append(text_to_inject);
        },
        showColor : function () {
            var color = this.model.get("color");
            this.render(color);
        },
        makeSound : function(){ 
            this.model.makeSound("Meow");
        }
    
    });

   
    var cat = new Cat( cat_1 );                       // an instance load with model
    var catView = new CatView( {model: cat} );         // load view with instance of model
    
    //$('#event-button-4').click(function() {  myModelView.render(); } );   // click this button to call view to render your model
    
    
console.log("- - - - - - End of script reached - - - - - -"); 
</script>  
</body>
</html> 